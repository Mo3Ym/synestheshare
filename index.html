<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SynestheShare 「あ行、か行…ってどんな色？」</title>
<link rel="icon" href="./assets/icons/favicon.ico">
<!-- Google Fonts 経由で Noto Sans JP を読み込み（iPhone対応、安全な方法） -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@600;800&display=swap" rel="stylesheet">
<!-- Google Fonts Outfit を読み込み -->
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/main_sub.css" />
<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
<style>
@font-face {
  font-family: 'font';
  src: url('font/03スマートフォントUI.otf') format('opentype');
}
@font-face {
  font-family: 'ar-gothic';
  src: url('AR-ADGothicJP-Medium.otf') format('opentype');
}
:root{--bg:#FFFFFF;--ui:#111} // 背景色
html,body{
  height:100%;margin:0;
  font-family:"Noto Sans JP",system-ui,-apple-system,Segoe UI,Helvetica,Arial,sans-serif;
  background:var(--bg);color:var(--ui);
}
.wrap{
  max-width:800px;
  margin:0 auto;
  padding:14px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
h1{font-size:18px;margin:0 0 8px;font-weight:800;text-align:center}
.controls-grid{
  display:grid;
  gap:10px;
  margin-bottom:10px;
  width:100%;
}
.kana-card{border:1px solid #eee;padding:8px;border-radius:8px;background:#fff}
.kana-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.kana-row label{width:40px;font-weight:700}
/* iPhone対応：カラーピッカーを正円にする（PCでも維持） */
.color-input{
  width:40px;
  height:40px;
  border:0;
  padding:0;
  background:none;
  -webkit-appearance:none;
  appearance:none;
  border-radius:50%;
  aspect-ratio:1/1;
}
.color-input::-webkit-color-swatch{
  border:none;
  border-radius:50%;
  padding:0;
}
.color-input::-webkit-color-swatch-wrapper{
  border-radius:50%;
  padding:0;
}
.color-input::-moz-color-swatch{
  border:none;
  border-radius:50%;
}
.small-btn{padding:6px 8px;border-radius:6px;border:1px solid #ddd;background:#fafafa;font-size:13px;cursor:pointer}
.preview{display:flex;justify-content:center;margin:12px 0;width:100%}
canvas{display:none;} /* ← Canvasは非表示にして内部処理専用 */
#previewImage{
  max-width:100%;
  height:auto;
  border-radius:8px;
  box-shadow:0 8px 20px rgba(0,0,0,0.06);
  background:#fff;
  display:block;
  border:1px solid #ccc; /* ← 生成画像に枠線を追加（画像自体ではなく表示上のみ） */
}
.actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:12px;width:100%}
button.main{padding:10px 12px;border-radius:8px;border:0;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:6px;background-color:#ffffff;}
button.black{padding:10px 12px;border-radius:8px;border:0;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:6px;background-color:#000000;color:#ffffff;}
.download{background:#1da1f2;color:#fff}
.share{background:#111;color:#fff}
.hint{font-size:14px;color:#666;margin-top:6px;text-align:center}
footer{display:flex;justify-content:center;padding-top:10px;font-size:14px;color:#111;width:100%}
.ex{font-size:12px;color:#666;margin-top:6px;text-align:center}
.footer-separator{
  width:100%;
  border-top:1px solid #ddd;
  margin:20px 0 10px 0;
}

/* モーダル */
.modal {
  display:none; 
  position:fixed;
  z-index:1000;
  left:0;top:0;
  width:100%;height:100%;
  overflow:auto;
  background:rgba(0,0,0,0.6);
}
.modal-content {
  background:#fff;
  margin:10% auto;
  padding:20px;
  border-radius:10px;
  max-width:400px;
  text-align:center;
}
.modal-content p {
  text-align: left; /* ← ポップアップ内の文章だけ左詰めに変更 */
}
.modal-content img{max-width:100%;height:auto;margin-top:10px}
.close {
  color:#aaa;
  float:right;
  font-size:24px;
  font-weight:bold;
  cursor:pointer;
}

/* PC（幅600px以上）では2列 */
@media (min-width:600px){
  .controls-grid{
    grid-template-columns:repeat(2,1fr);
  }
}

/* スマホ（幅599px以下）では1列 */
@media (max-width:599px){
  .controls-grid{
    grid-template-columns:1fr;
  }
}

/* Step画像の高さをカラーピッカー行の高さに揃える */
.step1 img,
.step2 img {
  height: auto;
  max-height: 60px;
}
.kana-card {
  display: flex;
  align-items: center;
}
.step1 img,
.step2 img {
  object-fit: contain;
}

/* iPhone対応: 「色を選択」「プレビュー」にも Noto Sans JP を適用 */
.step1 b, .step2 b {
  font-family: "Noto Sans JP", system-ui, -apple-system, Segoe UI, Helvetica, Arial, sans-serif;
}
/* iPhone対応: あ行、か行…のラベルとヒント文も Noto Sans JP に統一 */
.kana-row label,
.hint {
  font-family: "Noto Sans JP", system-ui, -apple-system, Segoe UI, Helvetica, Arial, sans-serif;
}
</style>
</head>
<body>
<div class="wrap">
    <!-- ロゴ -->
    <div class="logo"><a href="index.html" target="_blank"><img src="images_sub/logo.png" style="max-width:70%;height:auto;display:block;margin:0 auto;"></a></div>
    <br><br>
    <!-- Step1画像 -->
    <div class="step1"><h1_1><img src="images_sub/step1_icon.png" style="height:40px;"><font size=4><b>色を選択</b></font></h1_1></div>
    <br>

    <!-- カラーピッカー -->
    <div class="controls-grid" id="controlsGrid"></div>

    <!-- 一時保存 / 初期化ボタン -->
    <div class="actions">
      <button id="saveBtn" class="button big wide smooth-scroll-middle"><img src="images_sub/save.png" alt="" style="width:18px;height:18px;"><span>入力内容を一時保存</span></button>
      <button id="resetBtn" class="button big wide smooth-scroll-middle"><img src="images_sub/reset.png" alt="" style="width:18px;height:18px;">色を初期化</button>
    </div>

    <br>
    <br>
    <br>
    <br>
    <br>

    <!-- Step2画像 -->
    <div class="step2"><h1_2><img src="images_sub/step2_icon.png" style="height:30px;"><font size=4><b>プレビュー</b></font></h1_2></div>

    <!-- プレビュー画像 -->
    <div class="preview">
      <canvas id="preview" width="1300" height="1300"></canvas>
      <img id="previewImage" alt="生成画像" />
    </div>
    <p class="hint">※画像を <b>長押し</b> または <b>右クリック</b> で保存</p>

    <!-- ポストボタン -->
    <div class="actions">
      <button  class="button big wide smooth-scroll-middle" id="shareBtn"><img src="images_sub/post.png" alt="x" style="width:16px;height:16px;">でポスト</button>
    </div>
    <br>
    <br>
    <br>

    <!-- フッター -->
    <div class="footer-separator"></div>
    <p class="ex">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
    <p class="ex">フォント：スマートフォントUI<br>フリーダウンロード：https://flopdesign.booth.pm/items/2296502</p>
</div>

<!-- モーダル -->
<div id="saveModal" class="modal">
  <div class="modal-content">
    <span class="close" id="saveClose">&times;</span>
    <p>サイトURLをコピーしてメモアプリ等に保存してください。<br>※選択した色情報はURLの<font color="#FF6969">末尾</font>に含まれています。</p>
    <img src="images_sub/howtosave.png" alt="保存方法">
  </div>
</div>

<script>
// （元のJavaScriptはここにそのまま残す）
</script>
</body>
</html>
